<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:exsl="http://exslt.org/common" xmlns:ng="http://docbook.org/docbook-ng"><head>
<meta http-equiv="X-UA-Compatible" content="IE=7"/>
<title>开始</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"/><link rel="home" href="index.html" title="GEF 教程2"/><link rel="up" href="ar02.html" title="创建 Editor"/><link rel="prev" href="ar02s01.html" title="建议参考书籍"/><link rel="next" href="ar03.html" title="GEF路子"/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><script type="text/javascript">
            //The id for tree cookie
            var treeCookieId = "treeview-755";
            var language = "en";
            var w = new Object();
            //Localization
            txt_filesfound = 'Results';
            txt_enter_at_least_1_char = "You must enter at least one character.";
            txt_browser_not_supported = "Your browser is not supported. Use of Mozilla Firefox is recommended.";
            txt_please_wait = "Please wait. Search in progress...";
            txt_results_for = "Results for: ";
        </script><style type="text/css">
            input {
            margin-bottom: 5px;
            margin-top: 2px;
            }

            .folder {
            display: block;
            height: 22px;
            padding-left: 20px;
            background: transparent url(../common/jquery/treeview/images/folder.gif) 0 0px no-repeat;
            }
            
        </style><link rel="shortcut icon" href="../favicon.ico" type="image/x-icon"/><link rel="stylesheet" type="text/css" href="../common/css/positioning.css"/><link rel="stylesheet" type="text/css" href="../common/jquery/theme-redmond/jquery-ui-1.8.2.custom.css"/><link rel="stylesheet" type="text/css" href="../common/jquery/treeview/jquery.treeview.css"/><script type="text/javascript" src="../common/jquery/jquery-1.4.2.min.js"><!----></script><script type="text/javascript" src="../common/jquery/jquery-ui-1.8.2.custom.min.js"><!----></script><script type="text/javascript" src="../common/jquery/jquery.cookie.js"><!----></script><script type="text/javascript" src="../common/jquery/treeview/jquery.treeview.min.js"><!----></script><script type="text/javascript" src="search/htmlFileList.js"><!----></script><script type="text/javascript" src="search/htmlFileInfoList.js"><!----></script><script type="text/javascript" src="search/nwSearchFnt.js"><!----></script><script type="text/javascript" src="search/stemmers/en_stemmer.js"><!--//make this scalable to other languages as well.--></script><script type="text/javascript" src="search/index-1.js"><!----></script><script type="text/javascript" src="search/index-2.js"><!----></script><script type="text/javascript" src="search/index-3.js"><!----></script></head><body><div id="header"><img style="margin-right: 2px; height: 59px; padding-right: 25px; padding-top: 8px" align="right" src="../common/images/logo.png" alt="Company Logo"/><h1 align="center">开始<br/>创建 Editor </h1><div id="navheader" align="right"><!----><table><tr><td style="height: 28px; width: 16px;"><a id="showHideButton" onclick="showHideToc();" class="pointLeft" title="Hide TOC tree">.
                            </a></td><td><img src="../common/images/highlight-blue.gif" alt="H" height="25px" onclick="toggleHighlight()" id="showHideHighlight" style="cursor:pointer" title="Toggle search result highlighting"/></td><td><a accesskey="p" href="ar02s01.html">Prev</a>
                                        |
                                        <a accesskey="u" href="ar02.html">Up</a>
                                    |
                                    <a accesskey="n" href="ar03.html">Next</a></td></tr></table></div></div><div id="content"><!----><div class="section" title="开始"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d0e65"/>开始</h2></div></div></div><div class="section" title="新建一个editor"><div class="titlepage"><div><div><h3 class="title"><a id="d0e68"/>新建一个editor</h3></div></div></div><p>一个最基本的 GEF 工程 应包括：</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>模型</p></li><li class="listitem"><p>控制器</p></li><li class="listitem"><p>视图</p></li></ul></div><p>在下面的图中可以看到我们建立了 3 个包， （另一个包是
            RCP 的）</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p> gef.tutorial.step.model 放置和模型相关的类</p></li><li class="listitem"><p> gef.tutorial.step.parts 放置和控制器相关的类</p></li><li class="listitem"><p>gef.tutorial.step.ui  放置和视 图相关的类 显示 GEF 图形的是在
                    Editor 的 Viewer 中，所以我们下面生成的 editor 类就应该 放在这个包里面。</p></li></ul></div><div class="mediaobject"><img src="../../images/step2/step2-1.jpg"/></div><p>下面我们先创建 gef.tutorial.step.ui 包中的 Eclipse的 editor插件，因为我们会发现，以后的大部分工作
                是要在 Editor 中写代码。Eclipse 中的 Editor 是从 org.eclipse.ui.part.EditorPart 扩展而来的，因为我们要把
                Editor 作为操作 GEF 的界面，所以我们这里生成的 DiagramEditor 类是从 org.eclipse.ui.part.EditorPart 的子类 org.eclipse.ui.parts.GraphicalEditor派生而来。因为 GraphicalEditor类可以帮助我们创建显示 GEF图形的
                视图 Viewer，这个后面会看到。 
                关于 GraphicalEditor类的层次结构可以从 help.eclipse.org中看到，我把它拷贝到了这里。 </p><div class="mediaobject"><img src="../../images/step2/step2-2.jpg"/></div><p>我们生成的 DiagramEditor类放在 gef.tutorial.step.ui包中，代码都是自动生成的，如下所示。但是我们 要加一个 ID用于标示这个
            Editor</p><pre class="programlisting">
                package gef.tutorial.step.ui;&#xD;
&#xD;
import org.eclipse.core.runtime.IProgressMonitor;&#xD;
import org.eclipse.gef.DefaultEditDomain;&#xD;
import org.eclipse.gef.ui.parts.GraphicalEditor;&#xD;
&#xD;
public class DiagramEditor extends GraphicalEditor {&#xD;
	public final static String ID = "gef.tutorial.step.ui.DiagramEditor";// 我们要加一个&#xD;
																			// ID用于标示这个&#xD;
																			// Editor&#xD;
&#xD;
	@Override&#xD;
	protected void initializeGraphicalViewer() {&#xD;
		// TODO Auto-generated method stub&#xD;
&#xD;
	}&#xD;
&#xD;
	public DiagramEditor() {&#xD;
		/*&#xD;
		 * Editing domain管理命令堆栈 command stack、工具条 palette viewer 等。Editing&#xD;
		 * domain还起通知在 Graphicalviewer 中生成的 SWT 事件的作用。因此，一定要建立一个 Editing&#xD;
		 * domain。这里，在&#xD;
		 * DiagramEditor的构造函数中使用setEditDomain()函数设置了一个org.eclipse.gef&#xD;
		 * .DefaultEditDomain作为 Editing domain。我们要说明的是：虽然对 GEF来讲一个 Editing&#xD;
		 * domain必须是设置成 Graphicalviewer （直白点说就是可画图的） ，因为我们的 DiagramEditor是从&#xD;
		 * GraphicalEditor 派生的，所以这里的缺省的 Editing domain—DefaultEditDomain&#xD;
		 * 其内在是被设置成 Graphicalviewer的。 说明：如果我们把 Graphicalviewer 放在 Editor 中时，我们使用&#xD;
		 * DefaultEditDomain。如果把 Graphicalviewer放在View中或者放在一个独立的Eclipse应用中时，&#xD;
		 * 我们要用org.eclipse.gef.EditDomain 作为 Editing domain。&#xD;
		 */&#xD;
		this.setEditDomain(new DefaultEditDomain(this));&#xD;
	}&#xD;
&#xD;
	@Override&#xD;
	public void doSave(IProgressMonitor arg0) {&#xD;
		// TODO Auto-generated method stub&#xD;
&#xD;
	}&#xD;
&#xD;
}&#xD;

            </pre></div><div class="section" title="添加editor 扩展"><div class="titlepage"><div><div><h3 class="title"><a id="d0e107"/>添加editor 扩展</h3></div></div></div><p>在 plugin.xml 的 extensions 页面中，单击 Add…按钮找到 org.eclipse.ui.editors，OK后就看到了。
            然后右点这个添加的 org.eclipse.ui.editors，选择 New-&gt;editor 菜单，就生成了下图的 editor. </p><div class="mediaobject"><img src="../../images/step2/step2-3.jpg"/></div><p>我们要修改下面的 Extension Element Details: </p><div class="mediaobject"><img src="../../images/step2/step2-4.jpg"/></div><p>下面我们就要想办法显示这个 DiagramEditor了。这里我们给 RCP工程加个菜单，这个菜单可以打开
                一个空白的 GEF Editor。 </p></div><div class="section" title="添加菜单"><div class="titlepage"><div><div><h3 class="title"><a id="d0e122"/>添加菜单</h3></div></div></div><div class="section" title="创建一个 Action 的派生类"><div class="titlepage"><div><div><h4 class="title"><a id="d0e125"/>创建一个 Action 的派生类</h4></div></div></div><p>这里面定义了菜单和对应的工具按钮的显示字符串和图标，以
                及其 ID等等。这里的 Action 派生类名为 DiagramAction，被放到 gef.tutorial.step.actions包中。 源码如下</p><pre class="programlisting">
                package gef.tutorial.step.actions;&#xD;
&#xD;
import gef.tutorial.step.Activator;&#xD;
import gef.tutorial.step.Application;&#xD;
&#xD;
import org.eclipse.jface.action.Action;&#xD;
import org.eclipse.jface.viewers.ISelection;&#xD;
import org.eclipse.ui.ISelectionListener;&#xD;
import org.eclipse.ui.IWorkbench;&#xD;
import org.eclipse.ui.IWorkbenchPart;&#xD;
import org.eclipse.ui.IWorkbenchWindow;&#xD;
import org.eclipse.ui.actions.ActionFactory.IWorkbenchAction;&#xD;
import org.eclipse.ui.plugin.AbstractUIPlugin;&#xD;
&#xD;
public class DiagramAction extends Action implements ISelectionListener,IWorkbenchAction {&#xD;
	private final IWorkbenchWindow window;&#xD;
	public final static String ID="gef.tutorial.step.actions.DiagramAction";&#xD;
	@Override&#xD;
	public void selectionChanged(IWorkbenchPart arg0, ISelection arg1) {&#xD;
&#xD;
	}&#xD;
	public DiagramAction(IWorkbenchWindow window) {&#xD;
		super();&#xD;
		this.window = window;&#xD;
		this.setId(ID);//添加id&#xD;
		this.setText("&amp;Diagram");&#xD;
		this.setToolTipText("Draw the GEF diagram.");&#xD;
		this.setImageDescriptor(AbstractUIPlugin.imageDescriptorFromPlugin(Activator.PLUGIN_ID, "icons/alt_window_16.gif"));&#xD;
		window.getSelectionService().addSelectionListener(this);&#xD;
	}&#xD;
	@Override&#xD;
	public void dispose() {&#xD;
		window.getSelectionService().removeSelectionListener(this);&#xD;
		&#xD;
	}&#xD;
&#xD;
}&#xD;

            </pre></div><div class="section" title="添加创建的 DiagramAction"><div class="titlepage"><div><div><h4 class="title"><a id="d0e132"/>添加创建的 DiagramAction</h4></div></div></div><p>在 ApplicationActionBarAdvisor.java 文件中添加前面创建的 DiagramAction。这里我们顺便
                创建了一个 Exit 菜单和一个 About菜单。免得我们的 Diagram菜单看上去太单薄。源码如下</p><pre class="programlisting">
                package gef.tutorial.step;

import gef.tutorial.step.actions.DiagramAction;

import org.eclipse.jface.action.IMenuManager;
import org.eclipse.jface.action.MenuManager;
import org.eclipse.jface.action.Separator;
import org.eclipse.ui.IWorkbenchWindow;
import org.eclipse.ui.actions.ActionFactory;
import org.eclipse.ui.actions.ActionFactory.IWorkbenchAction;
import org.eclipse.ui.application.ActionBarAdvisor;
import org.eclipse.ui.application.IActionBarConfigurer;

public class ApplicationActionBarAdvisor extends ActionBarAdvisor {
	private IWorkbenchAction about;
	private IWorkbenchAction exit;
	private IWorkbenchAction diagram;
	public ApplicationActionBarAdvisor(IActionBarConfigurer configurer) {
		super(configurer);
	}

	protected void makeActions(IWorkbenchWindow window) {
		about=ActionFactory.ABOUT.create(window);
		exit=ActionFactory.QUIT.create(window);
		diagram=new DiagramAction(window);
		register(about);
		register(exit);
		register(diagram);
	}

	protected void fillMenuBar(IMenuManager menuBar) {
		MenuManager fileMenu=new MenuManager("&amp;File", "File");
		fileMenu.add(diagram);
		fileMenu.add(new Separator());
		fileMenu.add(exit);
		MenuManager helpMenu=new MenuManager("&amp;Help", "Help");
		helpMenu.add(about);
		menuBar.add(fileMenu);
		menuBar.add(helpMenu);
	}

}

                    
                </pre><p>在 plugin.xml 文件的 overview页面中点击“Launce an Eclipse application”那个链接，就可以看
                    到加这个菜单的效果了。但是这个菜单还不能起任何作用，因为我们在 DiagramAction 那个类的 run()中没
                    让它做任何事情。下面我们就要让它显示一个对话框，然后打开一个 Diagram Editor</p><div class="mediaobject"><img src="../../images/step2/step2-5.jpg"/></div></div><div class="section" title="显示出DiagramEdior"><div class="titlepage"><div><div><h4 class="title"><a id="d0e144"/>显示出DiagramEdior</h4></div></div></div><div class="section" title="创建一个EditorInput"><div class="titlepage"><div><div><h5 class="title"><a id="d0e147"/>创建一个EditorInput</h5></div></div></div><p>因为所有的 Editor 都要有个 EditorInput 作为其内容的提供者，所以我们生成了一个
                    DiagramEditorInput 作为 DiagramEditor 的提供者。因为我们是 RCP 工程，所以我们的 DiagramEditorInput
                    是从 IPathEditorInput 派生的。这里的例子好像是从 Using GEF with EMF中借用来的，我记不很清楚了。
                    我们不详细谈这个 EditorInput 的作用，有疑问的可以参考 RCP 那本书，写的很详细。另外，前面推荐的
                    另外商业插件开发的书也介绍的很多。源码如下</p><pre class="programlisting">
                package gef.tutorial.step.ui;&#xD;
&#xD;
import org.eclipse.core.runtime.IPath;&#xD;
import org.eclipse.core.runtime.Path;&#xD;
import org.eclipse.jface.resource.ImageDescriptor;&#xD;
import org.eclipse.ui.IPathEditorInput;&#xD;
import org.eclipse.ui.IPersistableElement;&#xD;
&#xD;
public class DiagramEditorInput implements IPathEditorInput {&#xD;
	private IPath path;&#xD;
	public DiagramEditorInput(Path path) {&#xD;
		this.path=path;&#xD;
	}&#xD;
&#xD;
	@Override &#xD;
	public boolean exists() {&#xD;
		return path.toFile().exists();&#xD;
	}&#xD;
&#xD;
	@Override&#xD;
	public ImageDescriptor getImageDescriptor() {&#xD;
		return null;&#xD;
	}&#xD;
&#xD;
	@Override&#xD;
	public String getName() {&#xD;
		return path.toString();&#xD;
	}&#xD;
&#xD;
	@Override&#xD;
	public IPersistableElement getPersistable() {&#xD;
		return null;&#xD;
	}&#xD;
&#xD;
	@Override&#xD;
	public String getToolTipText() {&#xD;
		return path.toString();&#xD;
	}&#xD;
&#xD;
	@Override&#xD;
	public Object getAdapter(Class arg0) {&#xD;
		return null;&#xD;
	}&#xD;
&#xD;
	@Override&#xD;
	public IPath getPath() {&#xD;
		return path;&#xD;
	}&#xD;
&#xD;
}&#xD;

                    
                </pre></div><div class="section" title="打开一个对话框"><div class="titlepage"><div><div><h5 class="title"><a id="d0e154"/>打开一个对话框</h5></div></div></div><p>在 DiagramAction 中的 run()函数内添加代码让 Diagram 菜单打开一个对话框。文件的扩
                    展名为*.diagram。</p><pre class="programlisting">
                            package gef.tutorial.step.actions;&#xD;
&#xD;
import gef.tutorial.step.Activator;&#xD;
import gef.tutorial.step.Application;&#xD;
import gef.tutorial.step.ui.DiagramEditor;&#xD;
import gef.tutorial.step.ui.DiagramEditorInput;&#xD;
&#xD;
import org.eclipse.core.runtime.Path;&#xD;
import org.eclipse.jface.action.Action;&#xD;
import org.eclipse.jface.viewers.ISelection;&#xD;
import org.eclipse.swt.SWT;&#xD;
import org.eclipse.swt.widgets.FileDialog;&#xD;
import org.eclipse.ui.IEditorInput;&#xD;
import org.eclipse.ui.ISelectionListener;&#xD;
import org.eclipse.ui.IWorkbench;&#xD;
import org.eclipse.ui.IWorkbenchPage;&#xD;
import org.eclipse.ui.IWorkbenchPart;&#xD;
import org.eclipse.ui.IWorkbenchWindow;&#xD;
import org.eclipse.ui.PartInitException;&#xD;
import org.eclipse.ui.actions.ActionFactory.IWorkbenchAction;&#xD;
import org.eclipse.ui.plugin.AbstractUIPlugin;&#xD;
&#xD;
public class DiagramAction extends Action implements ISelectionListener,IWorkbenchAction {&#xD;
	private final IWorkbenchWindow window;&#xD;
	public final static String ID="gef.tutorial.step.actions.DiagramAction";&#xD;
	@Override&#xD;
	public void selectionChanged(IWorkbenchPart arg0, ISelection arg1) {&#xD;
&#xD;
	}&#xD;
	public DiagramAction(IWorkbenchWindow window) {&#xD;
		super();&#xD;
		this.window = window;&#xD;
		this.setId(ID);//添加id&#xD;
		this.setText("&amp;Diagram");&#xD;
		this.setToolTipText("Draw the GEF diagram.");&#xD;
		this.setImageDescriptor(AbstractUIPlugin.imageDescriptorFromPlugin(Activator.PLUGIN_ID, "icons/alt_window_16.gif"));&#xD;
		window.getSelectionService().addSelectionListener(this);&#xD;
	}&#xD;
	@Override&#xD;
	public void dispose() {&#xD;
		window.getSelectionService().removeSelectionListener(this);&#xD;
		&#xD;
	}&#xD;
	@Override&#xD;
	public void run() {&#xD;
		String path = openFileDialog();&#xD;
		if (path != null) {&#xD;
			IEditorInput input = new DiagramEditorInput(new Path(path));&#xD;
			IWorkbenchPage page = window.getActivePage();&#xD;
			try {&#xD;
				page.openEditor(input, DiagramEditor.ID, true);&#xD;
			} catch (PartInitException e) {&#xD;
				// handle error&#xD;
			}&#xD;
		}&#xD;
	}&#xD;
	private String openFileDialog() {&#xD;
		FileDialog dialog = new FileDialog(window.getShell(), SWT.OPEN);&#xD;
		dialog.setText("GEF File");&#xD;
		dialog.setFilterExtensions(new String[] { ".diagram" });&#xD;
		return dialog.open();&#xD;
	}&#xD;
}&#xD;

                    </pre></div><div class="section" title="设置 Editor为可见"><div class="titlepage"><div><div><h5 class="title"><a id="d0e161"/>设置 Editor为可见</h5></div></div></div><p>最后在Perspective.java文件中设置 Editor为可见。</p><pre class="programlisting">
                        package gef.tutorial.step;

import org.eclipse.ui.IPageLayout;
import org.eclipse.ui.IPerspectiveFactory;

public class Perspective implements IPerspectiveFactory {

	public void createInitialLayout(IPageLayout layout) {
		layout.setEditorAreaVisible(true);
	}
}

                    </pre></div><div class="section" title="什么是 GEF的路子"><div class="titlepage"><div><div><h5 class="title"><a id="d0e168"/>什么是 GEF的路子</h5></div></div></div><p>最后在Perspective.java文件中设置 Editor为可见。</p><div class="mediaobject"><img src="../../images/step2/step2-6.jpg"/></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>1、创建模型 如HelloModel</p></li><li class="listitem"><p>2、创建控制器 editpart 一般明明为HelloEditPart</p></li><li class="listitem"><p>3、创建连接模型和控制器的工厂，一般命名为**PartFactory</p></li><li class="listitem"><p>4、在edit 中创建GraphicalViewer 并显示图像</p></li></ul></div><p>我们就按上图的顺序和规则实现 GEF。 </p></div></div></div></div><script type="text/javascript" src="../common/main.js"><!----></script><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar02s01.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ar02.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ar03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></div><div><div id="leftnavigation" style="padding-top:3px; background-color:white;"><div id="tabs"><ul><li><a href="#treeDiv"><em>Contents</em></a></li><li><a href="#searchDiv"><em>Search</em></a></li></ul><div id="treeDiv"><img src="../common/images/loading.gif" alt="loading table of contents..." id="tocLoading" style="display:block;"/><div id="ulTreeDiv" style="display:none"><ul id="tree" class="filetree"><li><span class="file"><a href="ar01.html">建立一个RCP工程</a></span><ul><li><span class="file"><a href="ar01s01.html">创建plugin-in project</a></span><ul><li><span class="file"><a href="ar01s01.html#d0e15">选择plugin-in project</a></span></li><li><span class="file"><a href="ar01s01.html#d0e21">Project name 为 gef.tutorial.step </a></span></li><li><span class="file"><a href="ar01s01.html#d0e27">在 Rich Client Application中选择 Ye s </a></span></li><li><span class="file"><a href="ar01s01.html#d0e33">选择 Hello RCP，单击 Finish 结束</a></span></li><li><span class="file"><a href="ar01s01.html#d0e39">设置 plug-in工程的 Dependability</a></span></li></ul></li></ul></li><li><span class="file"><a href="ar02.html">创建 Editor </a></span><ul><li><span class="file"><a href="ar02s01.html">建议参考书籍</a></span></li><li id="webhelp-currentid"><span class="file"><a href="ar02s02.html">开始</a></span><ul><li><span class="file"><a href="ar02s02.html#d0e68">新建一个editor</a></span></li><li><span class="file"><a href="ar02s02.html#d0e107">添加editor 扩展</a></span></li><li><span class="file"><a href="ar02s02.html#d0e122">添加菜单</a></span><ul><li><span class="file"><a href="ar02s02.html#d0e125">创建一个 Action 的派生类</a></span></li><li><span class="file"><a href="ar02s02.html#d0e132">添加创建的 DiagramAction</a></span></li><li><span class="file"><a href="ar02s02.html#d0e144">显示出DiagramEdior</a></span><ul><li><span class="file"><a href="ar02s02.html#d0e147">创建一个EditorInput</a></span></li><li><span class="file"><a href="ar02s02.html#d0e154">打开一个对话框</a></span></li><li><span class="file"><a href="ar02s02.html#d0e161">设置 Editor为可见</a></span></li><li><span class="file"><a href="ar02s02.html#d0e168">什么是 GEF的路子</a></span></li></ul></li></ul></li></ul></li></ul></li><li><span class="file"><a href="ar03.html">GEF路子</a></span><ul><li><span class="file"><a href="ar03s01.html">创建模型 </a></span></li><li><span class="file"><a href="ar03s02.html">创建模型</a></span></li><li><span class="file"><a href="ar03s03.html">连接模型和控制器（Controller） </a></span></li></ul></li><li><span class="file"><a href="ar04.html">管理多个模型 </a></span><ul><li><span class="file"><a href="ar04s01.html">内容提要：</a></span></li><li><span class="file"><a href="ar04s02.html">图形集模型 </a></span></li><li><span class="file"><a href="ar04s03.html">创建图形集模型 ContentsModel </a></span></li><li><span class="file"><a href="ar04s04.html">创建 ContentsModel 的控制器 ContentsEditPart </a></span></li><li><span class="file"><a href="ar04s05.html">连接图形集模型 ContentsModel 和它的控制器 ContentsEditPart </a></span></li><li><span class="file"><a href="ar04s06.html">修改 Viewer中显示的模型为 ContentsModel </a></span></li><li><span class="file"><a href="ar04s07.html">为图形集添加子集 </a></span></li><li><span class="file"><a href="ar04s08.html">把 ContentsModel 变成父模型 </a></span></li><li><span class="file"><a href="ar04s09.html">把 ContentsEditPart也变成父模型 </a></span></li><li><span class="file"><a href="ar04s10.html">在 Graphicalviewer中显示一下父子关系</a></span></li></ul></li><li><span class="file"><a href="ar05.html">布局管理器 </a></span><ul><li><span class="file"><a href="ar05s01.html">设置布局管理器 </a></span></li><li><span class="file"><a href="ar05s02.html">在模型类中管理约束 </a></span></li><li><span class="file"><a href="ar05s03.html">应用约束 </a></span></li><li><span class="file"><a href="ar05s04.html">绘制带约束的图形 </a></span></li></ul></li><li><span class="file"><a href="ar06.html">图形操作 </a></span><ul><li><span class="file"><a href="ar06s01.html">内容提要</a></span></li><li><span class="file"><a href="ar06s02.html">创建 editing policy</a></span></li><li><span class="file"><a href="ar06s03.html">安装 editing policy </a></span></li><li><span class="file"><a href="ar06s04.html">Command</a></span></li><li><span class="file"><a href="ar06s05.html">修改 Editing Policy </a></span></li></ul></li><li><span class="file"><a href="ar07.html">监听模型改变 </a></span><ul><li><span class="file"><a href="ar07s01.html">在模型中设置监听器</a></span></li><li><span class="file"><a href="ar07s02.html">在 EditPart中注册监听器 </a></span></li><li><span class="file"><a href="ar07s03.html">Undo/redo 撤消/重复操作 </a></span></li></ul></li><li><span class="file"><a href="ar08.html">删除和添加图形</a></span><ul><li><span class="file"><a href="ar08s01.html">删除图形</a></span></li><li><span class="file"><a href="ar08s02.html">添加图形 </a></span><ul><li><span class="file"><a href="ar08s02.html#d0e700">首先，我们介绍如何创建一个带 Palette 的 Graphical Editor</a></span></li><li><span class="file"><a href="ar08s02.html#d0e714">创建 Palette </a></span></li><li><span class="file"><a href="ar08s02.html#d0e728">创建模型的 Command </a></span></li><li><span class="file"><a href="ar08s02.html#d0e737">调用创建模型的 Command</a></span></li></ul></li></ul></li></ul></div></div><div id="searchDiv"><div id="search"><form onsubmit="Verifie(ditaSearch_Form);return false" name="ditaSearch_Form" class="searchForm"><fieldset class="searchFieldSet"><legend>Search</legend><center><input id="textToSearch" name="textToSearch" type="text" class="searchText"/> &nbsp; <input onclick="Verifie(ditaSearch_Form)" type="button" class="searchButton" value="Go" id="doSearch"/></center></fieldset></form></div><div id="searchResults"><center/></div></div></div></div></div></body></html>